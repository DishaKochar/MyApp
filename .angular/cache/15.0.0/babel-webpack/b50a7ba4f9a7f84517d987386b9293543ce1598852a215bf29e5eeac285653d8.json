{"ast":null,"code":"import { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"../auth/http.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../main/main.component\";\nfunction AddBookComponent_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \"Name of book is necessary!!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddBookComponent_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \"Author's name is necessary!!!!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddBookComponent_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \"Amount is necessary!!\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AddBookComponent {\n  constructor(router, toastr, user) {\n    this.router = router;\n    this.toastr = toastr;\n    this.user = user;\n    this.myGroup = new FormGroup({\n      'name': new FormControl('', [Validators.required]),\n      'author': new FormControl('', [Validators.required]),\n      'amount': new FormControl(0, [Validators.required])\n      // 'src': new FormControl(''),\n    });\n  }\n\n  get name() {\n    return this.myGroup.get('name');\n  }\n  get author() {\n    return this.myGroup.get('author');\n  }\n  get amount() {\n    return this.myGroup.get('amount');\n  }\n  ngOnInit() {}\n  submit() {\n    let token = JSON.parse(localStorage.getItem('token') || '{}');\n    let obj = {\n      name: this.name.value,\n      author: this.author.value,\n      amount: this.amount.value,\n      src: 'https://m.media-amazon.com/images/I/41VndKVtiXL._SX442_BO1,204,203,200_.jpg',\n      token: token\n    };\n    this.user.addBooks(obj).subscribe(res => {\n      console.log(\"API RESPONSE for adding book details\", res);\n      if (res.status == '200') {\n        console.log('1 login res: ', res);\n        this.toastr.success(res.message);\n        this.router.navigateByUrl('books');\n      } else {\n        console.log('2 login res: ', res);\n        this.toastr.error(\"Unable to add books \", res.message);\n        this.router.navigateByUrl('book/add');\n      }\n    });\n  }\n  static #_ = this.ɵfac = function AddBookComponent_Factory(t) {\n    return new (t || AddBookComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.HttpService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddBookComponent,\n    selectors: [[\"app-add-book\"]],\n    decls: 29,\n    vars: 5,\n    consts: [[1, \"flex\", \"m-auto\", \"h-screen\", \"justigy-center\"], [1, \"p-4\", \"rounded-lg\", \"border\", \"m-auto\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"name\", 1, \"label-control\"], [\"type\", \"text\", \"placeholder\", \"Enter name\", \"formControlName\", \"name\", 1, \"form-control\", \"p-1\", \"rounded\", \"border\"], [\"style\", \"color: red;\", 4, \"ngIf\"], [\"for\", \"author\", 1, \"label-control\"], [\"type\", \"author\", \"placeholder\", \"Enter author's name\", \"formControlName\", \"author\", 1, \"form-control\", \"p-1\", \"rounded\", \"border\", \"align-right\"], [\"for\", \"amount\", 1, \"label-control\"], [\"type\", \"text\", \"placeholder\", \"Enter amount\", \"formControlName\", \"amount\", 1, \"form-control\", \"p-1\", \"rounded\", \"border\"], [\"type\", \"submit\", 1, \"p-2\", \"w-full\", \"bg-purple-700\", \"text-white\", 3, \"disabled\"], [2, \"color\", \"red\"]],\n    template: function AddBookComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-main\");\n        i0.ɵɵelementStart(1, \"div\", 0)(2, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function AddBookComponent_Template_form_ngSubmit_2_listener() {\n          return ctx.submit();\n        });\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"label\", 3);\n        i0.ɵɵtext(5, \"Name: \\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"input\", 4)(7, \"br\");\n        i0.ɵɵtemplate(8, AddBookComponent_span_8_Template, 2, 0, \"span\", 5);\n        i0.ɵɵelement(9, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"br\");\n        i0.ɵɵelementStart(11, \"div\", 2)(12, \"label\", 6);\n        i0.ɵɵtext(13, \"Author: \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"input\", 7)(15, \"br\");\n        i0.ɵɵtemplate(16, AddBookComponent_span_16_Template, 2, 0, \"span\", 5);\n        i0.ɵɵelement(17, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"br\");\n        i0.ɵɵelementStart(19, \"div\", 2)(20, \"label\", 8);\n        i0.ɵɵtext(21, \"Amount: \\u00A0 \\u00A0 \\u00A0 \\u00A0\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(22, \"input\", 9)(23, \"br\");\n        i0.ɵɵtemplate(24, AddBookComponent_span_24_Template, 2, 0, \"span\", 5);\n        i0.ɵɵelement(25, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(26, \"br\");\n        i0.ɵɵelementStart(27, \"div\");\n        i0.ɵɵelement(28, \"input\", 10);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.myGroup);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.name && ctx.name.invalid && ctx.name.touched);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.author && ctx.author.invalid && ctx.author.touched);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.amount && ctx.amount.invalid && ctx.amount.touched);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.myGroup.invalid);\n      }\n    },\n    dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i6.MainComponent]\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}